{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines a React component 'ChatView' which manages a chat interface, including message display, user input handling, and interactions with a chat store and API endpoints. It handles message sending, live streaming of responses, and UI updates.", "external_files": ["../store/chatStore", "../api/client.js", "./MessageBubble", "./ChatComposer"], "external_methods": ["useChat", "getActiveConversation", "getMessagesForConversation", "postJson", "mockStream"], "published": ["ChatView"], "classes": [], "methods": [{"name": "ChatView()", "description": "React functional component that renders the chat interface, manages state, handles message sending, and API interactions.", "scope": "", "scopeKind": ""}], "calls": ["useChat", "getActiveConversation", "getMessagesForConversation", "postJson", "mockStream", "dispatch", "setTimeout", "setSending", "requestAnimationFrame", "scrollTop", "scrollHeight", "getActiveConversation", "dispatch", "useEffect", "dispatch", "setTitleIfNeeded", "ensureConversation", "setTimeout", "getActiveConversation", "dispatch", "postJson", "mockStream", "dispatch", "console.error"], "search-terms": ["ChatView", "React chat component", "message streaming", "chatStore", "API integration", "conversation management"], "state": 2, "file_id": 28, "knowledge_revision": 64, "git_revision": "", "revision_history": [{"60": ""}, {"64": ""}], "ctags": [{"_type": "tag", "name": "ChatView", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^export function ChatView() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "STREAMING_PLACEHOLDER", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^const STREAMING_PLACEHOLDER = true;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "assistantMsg", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^    const assistantMsg = {$/", "language": "JavaScript", "kind": "class", "scope": "ChatView", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^      content: STREAMING_PLACEHOLDER ? '' : '\u2026',$/", "language": "JavaScript", "kind": "property", "scope": "ChatView.assistantMsg", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^      content: text,$/", "language": "JavaScript", "kind": "property", "scope": "ChatView.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^      createdAt: new Date().toISOString(),$/", "language": "JavaScript", "kind": "property", "scope": "ChatView.assistantMsg", "scopeKind": "class"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^      createdAt: new Date().toISOString(),$/", "language": "JavaScript", "kind": "property", "scope": "ChatView.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^      id: 'm_' + Math.random().toString(36).slice(2),$/", "language": "JavaScript", "kind": "property", "scope": "ChatView.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^      id: assistantId,$/", "language": "JavaScript", "kind": "property", "scope": "ChatView.assistantMsg", "scopeKind": "class"}, {"_type": "tag", "name": "messages", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^      const payload = { messages: messages.concat(userMsg).map((m) => ({ role: m.role, content: /", "language": "JavaScript", "kind": "property", "scope": "ChatView.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^      const payload = { messages: messages.concat(userMsg).map((m) => ({ role: m.role, content: /", "language": "JavaScript", "kind": "class", "scope": "ChatView", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^      role: 'assistant',$/", "language": "JavaScript", "kind": "property", "scope": "ChatView.assistantMsg", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^      role: 'user',$/", "language": "JavaScript", "kind": "property", "scope": "ChatView.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "userMsg", "path": "/home/kavia/workspace/code-generation/real-time-ai-chat-platform-224064-224085/frontend_react/src/components/ChatView.jsx", "pattern": "/^    const userMsg = {$/", "language": "JavaScript", "kind": "class", "scope": "ChatView", "scopeKind": "class"}], "hash": "b7333675f0833621a8cdb0cc804bad3e", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/components/ChatView.jsx", "fields": [{"name": "content: STREAMING_PLACEHOLDER ? '' : '\u2026',", "scope": "ChatView.assistantMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "content: text,", "scope": "ChatView.userMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "createdAt: new Date().toISOString(),", "scope": "ChatView.assistantMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "id: 'm_' + Math.random().toString(36).slice(2),", "scope": "ChatView.userMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "id: assistantId,", "scope": "ChatView.assistantMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "const payload = { messages: messages.concat(userMsg).map((m) => ({ role: m.role, content: /", "scope": "ChatView.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "role: 'assistant',", "scope": "ChatView.assistantMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "role: 'user',", "scope": "ChatView.userMsg", "scopeKind": "class", "description": "unavailable"}]}